import { InlineKeyboard } from 'grammy';

const loginOrRegisterCallback = async (ctx) => {
  const startKeyboard = new InlineKeyboard()
    .text('–í–æ–¥–∏—Ç–µ–ª—å', 'driver')
    .text('–ü–∞—Å—Å–∞–∂–∏—Ä', 'passenger');

  await ctx.reply(
    ` –ü—Ä–∏–≤–µ—Ç —è CarShareBot! üëã

      –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ—Å—Ç –≤ –º–∞—à–∏–Ω–µ. üöó

      –ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å, –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É —Ä–æ–ª—å –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ(/help), –∏ –º—ã –ø–æ–º–æ–∂–µ–º!

      –ü—Ä–∏—è—Ç–Ω—ã—Ö –ø–æ–µ–∑–¥–æ–∫!`,
    {
      reply_markup: startKeyboard,
    }
  );
};

const helpCallback = async (ctx) => {
  const role = ctx.session.role;

  const passengerCommands = `
      /book - –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –º–µ—Å—Ç–æ –≤ –º–∞—à–∏–Ω–µ
      /cancel_reservation - –û—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
      /show_profile - –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
      /update_profile - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
      /show_drivers - –ü–æ–∫–∞–∑–∞—Ç—å –≤–æ–¥–∏—Ç–µ–ª–µ–π
      /my_reservations - –ü–æ–∫–∞–∑–∞—Ç—å –≤–∞—à–∏ —Ç–µ–∫—É—â–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
      /ride_in_a_taxi - –ü–æ–¥–±—Ä–æ—Å–∏—Ç—å –Ω–∞ —Ç–∞–∫—Å–∏
      /show_active_taxi - –ü–æ–∫–∞–∑–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ç–∞–∫—Å–∏
      /show_my_taxi - –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ç–∞–∫—Å–∏
      /show_my_companions - –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–∏—Ö –ø–æ–ø—É—Ç—á–∏–∫–æ–≤
      /book_taxi - –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –º–µ—Å—Ç–æ –≤ —Ç–∞–∫—Å–∏
      /cancel_book_taxi - –û—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω—å –≤ —Ç–∞–∫—Å–∏
      /close_taxi_request - –ó–∞–∫—Ä—ã—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ç–∞–∫—Å–∏
      /show_my_companions - –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ø—É—Ç—á–∏–∫–æ–≤ –≤ —Ç–∞–∫—Å–∏
      /show_my_companions_as_passenger - –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ø—É—Ç—á–∏–∫–æ–≤ –≤ —Ç–∞–∫—Å–∏ (–ó–∞–∫–∞–∑—ã–≤–∞—é—â–∏–π)
    `;

  const driverCommands = `
      /show_my_passengers - –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–∏—Ö –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤
      /remove_passenger - –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–∏—Ö –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤
      /show_profile - –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
      /update_profile - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
      /remove_passenger - –£–¥–∞–ª–∏—Ç—å –ø–∞—Å—Å–∞–∂–∏—Ä–∞
    `;

  const generalCommands = `
      /start - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –Ω–∞—á–∞–ª–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
      /help - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥
    `;

  const response = `
      –ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ—Å—Ç –≤ –º–∞—à–∏–Ω–µ –Ω–∞ –ø—É—Ç–∏ –¥–æ–º–æ–π. –í–æ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥:
  
      ${generalCommands}
      
      ${role === 'passenger' ? passengerCommands : ''}
      ${role === 'driver' ? driverCommands : ''}
  
      –î–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /book –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º.
  
      –£–¥–∞—á–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø–æ–µ–∑–¥–æ–∫!
    `;

  await ctx.reply(response);
};

export { helpCallback, loginOrRegisterCallback };
